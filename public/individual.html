<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pictures</title>

      <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment-with-locales.min.js">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://use.fontawesome.com/4b53ea2f0f.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Montserrat&display=swap" rel="stylesheet">


</head>
      <!-- background #121f3f // 
      gradient from #49c4cc to #40e0d0 //#cdedf7//
      leaf colors #0f444a // // #29a37d //   
      button gradient from #f84c00  to #f9c724 -->
<body>
  <style>
      body {
        height: 100%;
        color: #001b48;
        background-color: #121f3f;
        font-family: 'Montserrat', sans-serif;
      }
      .thumbnail-size {
          width: 100%;
          height: 15vw;
          object-fit: cover;
      }
      #goalThumbnail:hover {
        text-decoration: none;
        color: #001b48;
        background-color: #dde8f0;
      }
      #dietThumbnail:hover{
        text-decoration: none;
        color: rgb(30, 85, 74);
        background-color: rgb(85, 231, 188);
      }
      /* #fitnessThumbnail{
      } */
      #fitnessThumbnail:hover{
        text-decoration: none;
        color: rgb(223, 183, 54);
        background-color: #97cbdc;
      }
      .profilePicture {
        border-radius: 50%;
      }
      .profileName {
        padding: 10px;
        background-image: linear-gradient(45deg, #49c4cc, #f9c724);
        width: 60%;
        border-radius: 10px;
      }
      .jumbotron{
        color: #cdedf7;
        background-image: url(assets/LibreOffice_MotifScatter_RGB.png), radial-gradient(
        rgba(42, 49, 59, 0.1), 
        #121f3f
        );
        background-repeat: no-repeat;
        background-size:contain;
        background-color: #121f3f;
        background-position-x: -20px;
      }
      .navBar{
        width: 100%;
        /* background: navy; */
        position: absolute;
        z-index: 200;
        
      }
      ul {
        list-style: none;

      }
      .navMenu{
        /* background: red; */
        position: absolute;
        top: 0;
        right: 0;
        z-index: 100;
      }
      #addInfoWin{
        height: 160vh;
        background-image: linear-gradient(45deg, #f84a00de, #f9c724de);
        position: absolute;
        top: 0;
        right: 0;
        z-index: 20;
      }

      #editInfoWin{
        height: 160vh;
        background-image: linear-gradient(45deg, #0f444ade, #29a37cde);
        position: absolute;
        top: 0;
        right: 0;
        z-index: 20;
      }
      .navLink {
        padding: 10px;
        display: block;
      }
      .navLink:hover {
        background: #dde8f0;
        text-decoration: none;
      }
      .hide {
        display: none;
      }
      .menuProImg {
        cursor: pointer;
      }
  </style>
  <script>
    //shows the user's name in the dashboard section
     $(document).ready( async function(){
      if(localStorage != null){
        let userData = localStorage.getItem("myUser");
        userData = JSON.parse(userData);
        console.log(userData);
        let myName = userData.my_name;
        console.log(myName);

        $("#h1Value").html(myName);
      }
    })


    async function insertInfo() {
      console.log("I AM CLICKED")
      let weight = $( "#insertWeight" ).val();
      let height = $( "#insertHeight" ).val();
      let goal = $( "#insertGoal" ).val();
      // let profileImg = $("#profileImg").val();

      //get username and post inside database
      let userData = localStorage.getItem( "myUser" );
      userData = JSON.parse(userData);
      let userName = userData.userName;
      console.log(userName);
      // let name = userData.my_name;


      let userDashboardInfo = {
        userName: userName,
        inputWeight: weight,
        inputHeight: height,
        inputGoal: goal
        // user_img: profileImg
      };

      console.log(userDashboardInfo);

      const postInfo = await $.post("/api/userInfo", userDashboardInfo);
      console.log("Getting the Post Info Stuff!!!!");
      console.log(postInfo);

      //get the info from database so that it can be added to html
      const getInfo = await $.get("/api/userInfo");
      console.log("Getting the dashboard info!!!!")
      console.log(getInfo);

      $("#appendWeight").html(`Weight: ${getInfo.my_weight}`);
      $("#appendHeight").html(`Height: ${getInfo.height}`);
      $("#usersMainGoal").html(`${getInfo.goal}`);

    } 

    function recipeCall(){
      var chosenDiet = $("#inputGroupSelectDiet").val();
      $("#addDietName").html(`Current Diet Following: ${chosenDiet}`)

      if (chosenDiet == "Vegan" ){
        $.ajax({
          url: `https://api.spoonacular.com/recipes/search?apiKey=db254b5cd61744d39a2deebd9c361444&number=3&query=${chosenDiet}`,
          // url: `https://www.themealdb.com/api/json/v1/1/search.php?s=${chosenDiet}`,
          method: "GET"
        }).then(showRecipes);

      }else {
        alert("Nothing Available right now !! Sorry")
      }
    }

    function showRecipes(response){
      // $("#dietSections").empty();
      console.log(response);
      // console.log(response.results[0].title);
      console.log(response.results[0].imageUrls)
      // for(var i = 0; i<3; i++){ 
      //   $("#dietSections").append(
      //     `
      //     <div class="card">
      //       <img class="card-img-top thumbnail-size" src="https://spoonacular.com/recipeImages/${response.results[i].imageUrls}" alt="Card image cap">
      //       <div class="card-body">
      //         <h5 class="card-title">${response.results[i].title}</h5>
      //         <p class="card-text">${response.results[i].readyInMinutes}</p>
      //       </div>
      //       <div class="card-body">
      //         <a id="food${i}"href="https://spoonacular.com/${response.results[i].title}" class="btn btn-primary">Show Recipe</a>
      //       </div>
      //     </div>
      //     `
      //   )

      //   var id = response.results[i].id
      //   $.ajax({
      //     url:"https://api.spoonacular.com/recipes/"+id+"/information?apiKey=db254b5cd61744d39a2deebd9c361444",
      //     success: function(res) {
      //       $(`#food${i}`).attr("href", res.sourceUrl);
      //     }
      //   });

      // }
    }
    function hideMenu(){
      // alert('something');
      $( "#navMenu" ).hide( "slow" );
    }
    function hideAddInfo(){
      // alert('something');
      $( "#addInfoWin" ).hide( "slow" );
    }

    function hideEditInfo(){
      $( "#editInfoWin" ).hide( "slow" );
    }

    function showAddInfo(){
      // alert('something');
      $( "#addInfoWin" ).slideDown( "slow" );
      $( "#navMenu" ).hide( "slow" );
    }
    function showEditInfo(){
      // alert('something');
      $( "#editInfoWin" ).slideDown( "slow" );
      $( "#navMenu" ).hide( "slow" );
    }
    function showMenu(){
      $( "#navMenu" ).show( "slow" );
    };
    function showGoalCard(){
      $( "#goalCard" ).show( 1500 );
      $('html, body').animate({
        scrollTop: $("#goalCard").offset().top
    }, 1500);
    }
    function hidegoalCard(){
      $( "#goalCard" ).hide( "slow" );
    }
    function showDietCard(){
      
      $( "#dietCard" ).show( 1500 );
      $('html, body').animate({
        scrollTop: $("#dietCard").offset().top
    }, 1500);
    }
    function hideDietCard(){
      $( "#dietCard" ).hide( "slow" );
    }
    function showfitnessCard(){
      $( "#fitnessCard" ).show( 1500 );
      $('html, body').animate({
        scrollTop: $("#fitnessCard").offset().top
    }, 1500);
    }
    function hidefitnessCard(){
      $( "#fitnessCard" ).hide( "slow" );
    }

      // $( "#addInfoWin" ).show( "slow" );
  </script>
  <div class="navBar d-flex justify-content-end">
    <div id="addInfoWin" class="window container-fluid hide card-body">
      <div class="d-flex justify-content-end">
        <i class="fa fa-times" onClick="hideAddInfo()" aria-hidden="true"></i>
      </div>
      <div class="d-flex justify-content-center">
        <div class="card mt-4 col-8">
          <form class="card-body">
            <h3>Add your Information</h3>
            
            <div class="form-group">
              <label for="profileImg">Add Profile Image</label>
              <div class="input-group mb-3 ">
                <div class="custom-file">
                    <input type="file" class="custom-file-input" id="profileImg">
                    <label class="custom-file-label" for="inputGroupFile02">Choose file</label>
                </div>
                <div class="input-group-append">
                    <span class="input-group-text" id="">Upload</span>
                </div>
              </div>
            </div>
        
            <div class="form-group">
              <label for="inputWeight">Weight</label>
              <input type="text" class="form-control" id="insertWeight" placeholder="Insert Your Current Weight">
            </div>
            <div class="form-group">
              <label for="inputHeight">Height</label>
              <input type="text" class="form-control" id="insertHeight" placeholder="Insert Your Current Height">
            </div>
            <div class="form-group">
              <label for="insertGoal">Goal</label>
              <input type="text" class="form-control" id="insertGoal" placeholder="Insert Your Current Goal">
            </div>
            <button class="btn btn-primary" type="button" id="insertBtn" onclick="insertInfo()">Submit</button>
          </form>
        </div>
      </div>
    </div>
    <div id="editInfoWin" class="window container-fluid hide card-body">
      <div class="d-flex justify-content-end">
        <i class="fa fa-times" onClick="hideEditInfo()" aria-hidden="true"></i>
      </div>
      <div class="d-flex justify-content-center">
        <div class="card mt-4 col-8">
          <form class="card-body">
            <h3>Edit your Information</h3>
            <div class="form-row">
              <div class="form-group col-md-6">
                <label for="firstName">First Name</label>
                <input type="text" class="form-control" id="firstName" placeholder="First Name">
              </div>
              <div class="form-group col-md-6">
                <label for="lastName">Last Name</label>
                <input type="text" class="form-control" id="lastName" placeholder="Last Name">
              </div>
            </div>
            <div class="form-group">
              <label for="inputWeight">Weight</label>
              <input type="text" class="form-control" id="inputWeight" placeholder="Insert Your Current Weight">
            </div>
            <div class="form-group">
              <label for="inputHeight">Height</label>
              <input type="text" class="form-control" id="inputHeight" placeholder="Insert Your Current Height">
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
          </form>
        </div>
      </div>
    </div>
    <div class="navMenu col-lg-3 card hide" id="navMenu">
      <ul class="card-body text-center">
        <div class="text-right" id="menuCloseBtn">
          <i class="fa fa-times" onClick="hideMenu()" aria-hidden="true"></i>
        </div>
        <img src="assets/download.png" alt="" class="profilePicture m-2 " style="width: 75px;">
        <li class="navItem"><a class="navLink" onClick="showAddInfo( )" >Add Info</a></li>
        <li class="navItem"><a class="navLink" href="#" onClick="showEditInfo()" >Edit Info</a></li>
        <li class="navItem"><a class="navLink" href="#">Log Out</a></li>
      </ul>
    </div>
    <div class="col-lg-11"></div>
    <div class="col-lg-1 menuProImg" onClick="showMenu()" >
      <img src="assets/download.png" alt="" class="profilePicture m-2 " style="width: 50px;">
    </div>
  </div>

  <main role="main">
    <section class="jumbotron text-center container-fluid">
      <!-- <img src="assets/LibreOffice_MotifScatter_RGB.png" alt=""> -->
      <h1 id="h1Value"> Welcome! </h1>
      <div>
        <div class="container d-flex justify-content-end ">
          <div class="col-lg-4">
            <img src="assets/download.png" alt="" class="profilePicture">
          </div>
          <div class="col-lg-8 userInfo">
            <div class="">
              <ul class="text-left card-body">
                <li class="profileName" id="appendWeight">Weight:</li>
                <br>
                <li class="profileName" id="appendHeight">Height</li>
                <br>
                <li class="profileName" id="appendBMI">BMI</li>
                <br>
              </ul>
            </div>
          </div>
        </div>
+
        <p class="lead text-muted card" id="usersMainGoal">My goal is to do .....!</p>
      </div>
    </section>
    <section class="container allThumbNails">
      <div class="card-deck">
        <div class="card" id="goalThumbnail" onclick="showGoalCard()">
          <div class="card-body d-flex justify-content-around">
              <h5 class="card-title">Goal</h5>
              <img src="assets/goal.png" style="width: 80%;" alt="">
          </div>
        </div>
        <div class="card" id="dietThumbnail" onclick="showDietCard()">
          <div class="card-body d-flex justify-content-around">
              <h5 class="card-title">Diet</h5>
              <img src="assets/diet.png" style="width: 80%;" alt="">
          </div>
        </div>
        <div class="card" id="fitnessThumbnail" onclick="showfitnessCard()">
          <div class="card-body border-primary d-flex justify-content-around">
              <h5 class="card-title">Fitness</h5>
              <img src="assets/dumbbell.png" style="width: 80%;" alt="">
          </div>
        </div>
      </div>
    </section>
    <section class="goal container mt-4 hide" id="goalCard">
      <div class="card">
        
        <div class="navBAr">
          <ul class="nav justify-content-end">
            <li class="nav-item"><a class="nav-link" href="#">Add goal</a></li>
            <li class="nav-item"><a class="nav-link disabled" href="#">Disabled</a></li>
            <li class="nav-item"><div class="nav-link " href=""><i class="fa fa-times" onClick="hidegoalCard()" aria-hidden="true"></i></div></li>
            
          </ul>
        </div>
        <div class="progressSection card-body">
          <h3>Goal</h3>
          <h4>total points: 250</h4>
          <div class="input-group mb-3 ">
            <div class="form-control">
              <div class="">walk</div>
              <div class="progress ">
                  <div class="progress-bar progress-bar-striped" role="progressbar" style="width: 10%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
            </div>
            <div class="input-group-append">
              <button class="btn btn-success" type="button" onClick="">Done!!</button>
            </div>
          </div>
          <div class="input-group mb-3 ">
              <div class="form-control">
                <div v class="">Lose weight</div>
                <div class="progress">
                    <div class="progress-bar progress-bar-striped bg-success" role="progressbar" style="width: 25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
              </div>
              <div class="input-group-append">
                <button class="btn btn-success" type="button" onClick="">Done!!</button>
              </div>
          </div>  
          <div class="input-group mb-3 ">
              <div class="form-control">
                <div class="">burn 3000 Calories</div>
                <div class="progress">
                    <div class="progress-bar progress-bar-striped bg-warning" role="progressbar" style="width: 100%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
              </div>
              <div class="input-group-append">
                <button class="btn btn-secondary" type="button" onClick="" disabled>completed</button>
              </div>
          </div>
        </div>
      </div>
    </section>
    <section class="diet container mt-4 hide" id="dietCard">
      <div class="card">
        <div class="nav-link card-body d-flex justify-content-end" href=""><i class="fa fa-times" onClick="hideDietCard()" aria-hidden="true"></i></div>
        <div class="dietSection card-body">
          <h3>Diet</h3>
          <h4 id="addDietName">Current Diet you are following: keto</h4>
          <div class="input-group mb-3">
            <select class="custom-select" id="inputGroupSelectDiet" onchange="recipeCall()">
              <option>Choose a Diet</option>
              <option value="Paleo">The Paleo Diet</option>
              <option value="Vegan">The Vegan Diet</option>
              <option value="Low Carb ">Low-Carb Diets</option>
              <option value="Dukan">The Dukan Diet</option>
              <option value="Ultra Low Fat">The Ultra-Low-Fat Diet</option>
              <option value="Atkins">The Atkins Diet</option>
              <option value="Zone">The Zone Diets</option>
            </select>
            <div class="input-group-append">
              <label class="input-group-text" for="inputGroupSelectDiet">Options</label>
            </div>
          </div>
          <div class="card">
            <div class="card-body">
              <h3>Top 3 Recipes</h3>
              <div class="card-deck" id="dietSections">

              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section class="diet container mt-4 hide" id="fitnessCard">
      <div class="card">
        <div class="nav-link card-body d-flex justify-content-end" href="">
          <i class="fa fa-times" onClick="hidefitnessCard()" aria-hidden="true"></i>
        </div>
        <div class="card-body">
          <h2>Fitness</h2>
          <div class="card-body">
            <h5>Current Fitness you are following: 100 Squats a day</h5>
            <br>
            <div class="input-group mb-3">
              <select class="custom-select" id="inputGroupSelectFitness">
                <option selected>Choose a Fitness Regime</option>
                <option value="1">Best For Chest Exercise: The Push-Up</option>
                <option value="2">Best Exercise For Glutes: The Squat</option>
                <option value="3">Best Exercise For Abs: The Bicycle Manoeuvre</option>
                <option value="4">Best Exercise For The Back: Pull-Up</option>
                <option value="5">Best Exercise For Hamstrings: Swiss Ball Hamstring Curl</option>
                <option value="6">Best Exercise For Upper Arms: Triceps Dips</option>
                <option value="7">Best Exercise For Thighs: The Lunge</option>
                <option value="8">Best For Waist: The Side Bridge</option>
                <option value="9">Best Exercise For Hips: The Single-Leg Squat</option>
                <option value="10">Best For Shoulders Exercise: The Lateral Shoulder Raise</option>
              </select>
              <div class="input-group-append">
                <label class="input-group-text" for="inputGroupSelectFitness">Options</label>
              </div>
            </div>
          </div>
          <div class="card">
            <div class="card-body">
              <h3>Top 3 Workout</h3>
              <div class="card-deck" id="dietSections">
                <div class="card">
                  <img class="card-img-top thumbnail-size" src="https://previews.123rf.com/images/logo3in1/logo3in11609/logo3in1160900004/62275155-step-instruction-for-push-up-of-woman-cartoon-illustration-about-work-out-.jpg" alt="Card image cap">
                  <div class="card-body">
                    <h5 class="card-title">Push Up</h5>
                    <p class="card-text"> is a longer card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                  </div>
                  <div class="card-body">
                    <a href="#" class="btn btn-primary">Show Workout</a>
                  </div>
                </div>
                <div class="card">
                  <img class="card-img-top thumbnail-size" src="https://image.shutterstock.com/image-vector/exercise-guide-by-woman-doing-260nw-1303854643.jpg" alt="Card image cap">
                  <div class="card-body">
                    <h5 class="card-title">Squats</h5>
                    <p class="card-text">This card has supporting text below as a natural lead-in to additional content.</p>
                  </div>
                  <div class="card-body">
                    <a href="#" class="btn btn-primary">Show Workout</a>
                  </div>
                </div>
                <div class="card">
                  <img class="card-img-top thumbnail-size" src="https://previews.123rf.com/images/balagur78/balagur781810/balagur78181000063/110748046-pull-up-on-the-crossbar-male-athlete-in-sportswear-doing-exercises-sports-fitness-vector-.jpg" alt="Card image cap">
                  <div class="card-body">
                    <h5 class="card-title">Pull up</h5>
                    <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This card has even longer content than the first to show that equal height action.</p>
                  </div>
                  <div class="card-body">
                    <a href="#" class="btn btn-primary">Show Workout</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </footer>

      <script>

        //norma's code
        //add save button to page
        //logout
        function logOut(){  
            localStorage.clear();
            location.href = '/login.html';
        }
        //populating user dashboard from database
        $(document).ready( async function(){
          const userid = localStorage.userId;
          const showUserInfo = $.get("/api/user/:userid");
          console.log(showUserInfo);
            
        })
        //------
        //we should automatically conver weight to metric
        //if(weight && height){
        //  getbmi();
        //} function getbmi = w in kg/(height)square

        //-------------
        // PUT call add button
        //---------------

        //--------------
        // PUT edit button
        //-----------------

        //---------------
        //display goal
        //---------------


        //--------------------
        //diet fitness api call
        //---------------

      </script>
      </div>
    </section>
  </main>
  <footer class="container d-flex justify-content-around">
    <div>
      Icons made by <a href="https://www.flaticon.com/authors/freepik" title="Freepik">Freepik</a> from <a href="https://www.flaticon.com/" title="Flaticon"> www.flaticon.com</a>
      
    </div>
  </footer>
</body>
</html>

